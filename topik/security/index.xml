<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Security on Petani Kode â€” Programmer Pengguna Linux</title>
    <link>https://www.petanikode.com/topik/security/index.xml</link>
    <description>Recent content in Security on Petani Kode â€” Programmer Pengguna Linux</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>id-id</language>
    <copyright>Copyright (c) 2017, Petani Kode; all rights reserved.</copyright>
    <atom:link href="https://www.petanikode.com/topik/security/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Cara Melindungi Web dari Serangan XSS pada Framework CodeIgniter</title>
      <link>https://www.petanikode.com/serangan-xss-codeigniter/</link>
      <pubDate>Fri, 23 Dec 2016 05:13:00 +0000</pubDate>
      
      <guid>https://www.petanikode.com/serangan-xss-codeigniter/</guid>
      <description>&lt;p&gt;XSS merupakan singkatan yang digunakan untuk istilah &lt;em&gt;cross site scripting&lt;/em&gt;.
XSS merupakan salah satu jenis serangan injeksi code &lt;em&gt;(code injection attack)&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;XSS dilakukan oleh penyerang dengan cara memasukkan kode HTML atau client script code lainnya ke suatu situs.
Serangan ini akan seolah-olah datang dari situs tersebut.&lt;/p&gt;

&lt;p&gt;Akibat serangan ini antara lain penyerang dapat mem-bypass keamanan di sisi klien,
mendapatkan informasi sensitif, atau menyimpan aplikasi berbahaya.&lt;/p&gt;

&lt;p&gt;Alasan singkatan yang digunakan XSS bukan CSS karena CSS sudah digunakan untuk &lt;em&gt;cascade style sheet&lt;/em&gt;. â€“ &lt;a href=&#34;https://id.wikipedia.org/wiki/XSS&#34;&gt;id.wikipedia.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Masih bingung?&lt;/p&gt;

&lt;p&gt;Saya akan perjelas lagi dengan cerita.&lt;/p&gt;

&lt;p&gt;Begini ceritanya,&lt;/p&gt;

&lt;p&gt;Ada sebuah form dan di sana kita diminta untuk mengisi &lt;em&gt;nama&lt;/em&gt;, &lt;em&gt;nip&lt;/em&gt;, dan &lt;em&gt;jabatan&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Akan tetapi, karena ada seorang yang usil. Dia tidak mengisi &lt;em&gt;nama&lt;/em&gt;,
melainkan mengisi kode HTML dan Javascript.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://2.bp.blogspot.com/-RaTvgUtLC_0/WEAYT6jwX_I/AAAAAAAADeY/eD26N9ib44UY0fK8qDymlxWfeEgMQRi3wCK4B/s1600/Percobaan%2Bserangan%2BXSS%2Bmelalui%2BForm.png&#34;&gt;&lt;img src=&#34;https://2.bp.blogspot.com/-RaTvgUtLC_0/WEAYT6jwX_I/AAAAAAAADeY/eD26N9ib44UY0fK8qDymlxWfeEgMQRi3wCK4B/s1600/Percobaan%2Bserangan%2BXSS%2Bmelalui%2BForm.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Maka yang akan tersimpan ke dalam database adalah skrip di atas.&lt;/p&gt;

&lt;p&gt;Secara otomatis, ketika data ditampilkan, browser akan mengekekusi skrip tersebut.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://3.bp.blogspot.com/-mKxLOdBzrJ0/WEAYdrVSV7I/AAAAAAAADeg/fNvZ-TPt-OY4bS6-tHDb2favPObm6V9MgCK4B/s1600/Serangan%2Bsukses%2B1%2B-%2Bhacked%2Bby%2Bpetani%2Bkode.png&#34;&gt;&lt;img src=&#34;https://3.bp.blogspot.com/-mKxLOdBzrJ0/WEAYdrVSV7I/AAAAAAAADeg/fNvZ-TPt-OY4bS6-tHDb2favPObm6V9MgCK4B/s1600/Serangan%2Bsukses%2B1%2B-%2Bhacked%2Bby%2Bpetani%2Bkode.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Si admin sepertinya akan panik.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://3.bp.blogspot.com/-_S5JiF6GTVc/WEAYmOKIzYI/AAAAAAAADeo/qjKNEKZgWtE1GapgZMS9v1z9RZI3j_38wCK4B/s1600/hasil%2Bhacking%2BXSS.png&#34;&gt;&lt;img src=&#34;https://3.bp.blogspot.com/-_S5JiF6GTVc/WEAYmOKIzYI/AAAAAAAADeo/qjKNEKZgWtE1GapgZMS9v1z9RZI3j_38wCK4B/s1600/hasil%2Bhacking%2BXSS.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Nah, itulah salah satu bentuk serangan XSS.
Penyerang sangant leluasa memasukan skrip ke website kita.&lt;/p&gt;

&lt;p&gt;Lalu, bagaimana cara mengatasi ini di CodeIgniter?&lt;/p&gt;

&lt;p&gt;CodeIgniter sebenarnya sudah menyediakan fitur &lt;em&gt;Global XSS Filtering&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Cara mengaktifkannya, tinggal mengganti nilai &lt;code&gt;FALSE&lt;/code&gt; menjadi &lt;code&gt;TRUE&lt;/code&gt; pada &lt;code&gt;application/config/config.php&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://1.bp.blogspot.com/-_C7i3mJy-1A/WECD4J7ifrI/AAAAAAAADe8/s1JFRU96nycO-rwguskQdqIHeNrpIOMGwCK4B/s1600/Global%2BXSS%2BFiltering.png&#34;&gt;&lt;img src=&#34;https://1.bp.blogspot.com/-_C7i3mJy-1A/WECD4J7ifrI/AAAAAAAADe8/s1JFRU96nycO-rwguskQdqIHeNrpIOMGwCK4B/s1600/Global%2BXSS%2BFiltering.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Dengan demikian, semua input dari pengguna atau penyerang akan dikonversi dulu
sebelum di simpan ke database.&lt;/p&gt;

&lt;p&gt;Akan tetapi fitur ini sudah tidak tersedia lagi.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The &amp;lsquo;global_xss_filtering&amp;rsquo; setting is DEPRECATED and kept solely for backwards-compatibility purposes. XSS escaping should be performed on output, not input!&lt;/p&gt;

&lt;p&gt;&amp;ndash; &lt;a href=&#34;https://www.codeigniter.com/userguide3/libraries/input.html?highlight=xss#xss-filtering&#34;&gt;dokumentasi CI&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Sepertinya pengembang CI sudah menyadari, kalau XSS itu masalah pada output, bukan input.&lt;/p&gt;

&lt;p&gt;Cara mengatasi XSS yang lain adalah dengan melakukan validasi input (&lt;code&gt;xss_clean&lt;/code&gt;).
Namun, seperti yang disebutkan tadi. XSS masalah pada output bukan input.&lt;/p&gt;

&lt;p&gt;Lalu bagaimana?&lt;/p&gt;

&lt;p&gt;Mau tidak mau, kita harus merubah dulu data yang akan ditampilkan agar
tidak dieksekusi oleh browser.&lt;/p&gt;

&lt;p&gt;Misalnya seperti berikut ini.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;echo htmlentities($data-&amp;gt;nama, ENT_QUOTES, &#39;UTF-8&#39;);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;fungsi &lt;code&gt;htmlentities()&lt;/code&gt; akan merubah kode html menjadi bentuk yang tidak akan dieksekusi.&lt;/p&gt;

&lt;p&gt;Kita harus mengetik fungsi tersebut setiap mau menampilkan data.&lt;/p&gt;

&lt;p&gt;Karena terasa cukup panjang, sebaiknya dijadikan &lt;em&gt;helper&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Buatlah sebuah &lt;em&gt;helper&lt;/em&gt; pada direktori &lt;code&gt;application/helpers&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Berikan nama &lt;code&gt;xss_helper.php&lt;/code&gt;, kemudian isi kodenya seperti berikut ini.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://2.bp.blogspot.com/-oF2kSVvYF2I/WECIbBIH7jI/AAAAAAAADfI/fBgAJyXYRhcbifZ6G9BOd2GrmUEn-AG4ACK4B/s1600/XSS%2BHelper%2BCodeIgniter.png&#34;&gt;&lt;img src=&#34;https://2.bp.blogspot.com/-oF2kSVvYF2I/WECIbBIH7jI/AAAAAAAADfI/fBgAJyXYRhcbifZ6G9BOd2GrmUEn-AG4ACK4B/s1600/XSS%2BHelper%2BCodeIgniter.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;&amp;lt;?php

function cetak($str){
    echo htmlentities($str, ENT_QUOTES, &#39;UTF-8&#39;);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Setelah itu,masukan helper ini ke dalam &lt;em&gt;autoload&lt;/em&gt;. Buka,
&lt;code&gt;application/config/autoload.php&lt;/code&gt;, kemudian tambahkan &lt;code&gt;xss&lt;/code&gt; pada &lt;em&gt;autoload helper&lt;/em&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;/*
| -------------------------------------------------------------------
| Auto-load Helper Files
| -------------------------------------------------------------------
| Prototype:
|
| $autoload[&#39;helper&#39;] = array(&#39;url&#39;, &#39;file&#39;);
*/
$autoload[&#39;helper&#39;] = array(&#39;url&#39;,&#39;cookie&#39;,&#39;form&#39;,&#39;xss&#39;);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Sekarang fungsi &lt;code&gt;echo&lt;/code&gt;, kita ganti dengan fungsi &lt;code&gt;cetak()&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Cara penggunaanya, tinggal kita panggil fungsi &lt;code&gt;cetak()&lt;/code&gt; pada tempat atau
&lt;em&gt;view&lt;/em&gt; yang mungkin bisa terkena XSS.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;?php foreach($pejabat as $pjb){?&amp;gt;
&amp;lt;tr&amp;gt;
&amp;lt;td&amp;gt;&amp;lt;?php cetak($pjb-&amp;gt;nama) ?&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;td&amp;gt;&amp;lt;?php cetak($pjb-&amp;gt;nip) ?&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;td&amp;gt;&amp;lt;?php cetak($pjb-&amp;gt;jabatan) ?&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;?php } ?&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Maka, teks akan ditampilkan apa adanya, tidak lagi dieksekusi oleh browser. ðŸ˜Š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://4.bp.blogspot.com/-D3P_TkOCiQw/WECJoF0hhBI/AAAAAAAADfQ/c6BaAuc_Kts7vgmSjZrrdHRO7vyoV5NEwCK4B/s1600/Hasil%2Boutput%2BXSS%2Bfiltering.png&#34;&gt;&lt;img src=&#34;https://4.bp.blogspot.com/-D3P_TkOCiQw/WECJoF0hhBI/AAAAAAAADfQ/c6BaAuc_Kts7vgmSjZrrdHRO7vyoV5NEwCK4B/s1600/Hasil%2Boutput%2BXSS%2Bfiltering.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Referensi:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://id.wikipedia.org/wiki/XSS&#34;&gt;https://id.wikipedia.org/wiki/XSS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://ponderwell.net/2010/08/codeigniter-xss-protection-is-good-but-not-enough-by-itself/&#34;&gt;http://ponderwell.net/2010/08/codeigniter-xss-protection-is-good-but-not-enough-by-itself/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://php.net/manual/en/function.htmlentities.php&#34;&gt;http://php.net/manual/en/function.htmlentities.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codeigniter.com/userguide3/libraries/security.html&#34;&gt;https://www.codeigniter.com/userguide3/libraries/security.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://stackoverflow.com/questions/10925720/codeigniter-xss-clean-dilemma&#34;&gt;http://stackoverflow.com/questions/10925720/codeigniter-xss-clean-dilemma&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>